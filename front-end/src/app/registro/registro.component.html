<main class="fondo-web">
  <div class="container-fluid py-3">
    <div
      class="row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-3 g-3 py-5"
    >
      <div class="col d-flex justify-content-center align-items-center">
        <img
          src="assets/images/side-img-login-registro.png"
          class="img-fluid"
        />
      </div>
      <div
        class="col d-flex justify-content-center align-items-center text-center"
      >
        <H1 class="display-3">¡Empieza a reciclar tu ropa!</H1>
      </div>

      <div class="col">
        <!-- Formulario de registro -->
        <form #f="ngForm" (ngSubmit)="onSubmitForm(f)">

          <!-- Campo de entrada nombre de usuario -->
          <div class="mb-3 form-group">
            <div>
              <label for="username">Nombre de usuario</label>
            </div>

            <input
              [(ngModel)]="userSignup.username"
              #username="ngModel"
              name="username"
              type="text"
              class="form-control"
              placeholder="Ingrese su nombre de usuario"
              minlength="5"
              maxlength="10"
              required
            />
          </div>

          <!-- Validación nombre de usuario -->
          <!-- Alerta si el usuario presiona el botón de submit y no ha ingresado un nombre -->
          <div
            *ngIf="username.invalid && f.submitted && username.untouched"
            class="alert alert-danger"
          >
            <p>nombre de usuario requerido</p>
          </div>
          <!-- Alerta de nombre inválido -->
          <div
            *ngIf="username.invalid && username.touched && username.dirty"
            class="alert alert-danger"
          >
            <p>nombre de usuario inválido, mínimo 5 caracteres</p>
          </div>
          <!-- Aviso éxitoso de nombre válido -->
          <div
            *ngIf="username.valid && username.touched && username.dirty"
            class="alert alert-success"
          >
            <p>Nombre de usuario validado</p>
          </div>

          <!-- Campo de entrada correo electrónico -->
          <div>
            <label for="email">Correo</label>
          </div>
          <div class="mb-3 form-group">
            <input
              [(ngModel)]="userSignup.email"
              #email="ngModel"
              name="email"
              type="email"
              class="form-control"
              placeholder="Ingrese su correo"
              pattern="[^ @]*@[^ @]*"
              required
            />
          </div>

          <!-- Validación de correo electrónico-->
          <!-- Alerta si el usuario presiona el botón de submit y no ha ingresado un nombre -->
          <div
            *ngIf="email.invalid && f.submitted && email.untouched"
            class="alert alert-danger"
          >
            <p>nombre de usuario requerido</p>
          </div>
          <!-- Alerta de nombre inválido -->
          <div
            *ngIf="username.invalid && username.touched && username.dirty"
            class="alert alert-danger"
          >
            <p>nombre de usuario inválido, mínimo 5 caracteres</p>
          </div>
          <!-- Aviso éxitoso de nombre válido -->
          <div
            *ngIf="username.valid && username.touched && username.dirty"
            class="alert alert-success"
          >
            <p>Nombre de usuario validado</p>
          </div>

          <!-- Campo de entrada contraseña -->
          <div>
            <label for="password">Contraseña</label>
          </div>
          <div class="mb-3 form-group">
            <input
              [(ngModel)]="userSignup.password"
              #password="ngModel"
              name="password"
              type="password"
              class="form-control"
              placeholder="Ingrese su contraseña"
              required
              minlength="8"
            />
          </div>
          <!-- Validación de contraseña-->
          <div
            *ngIf="
              (password.invalid && password.touched && password.dirty) ||
              (password.invalid && f.submitted)
            "
            class="alert alert-danger"
          >
            <p>La contraseña debe ser válida</p>
          </div>
          <div
            *ngIf="password.valid && password.touched && password.dirty"
            class="alert alert-success"
          >
            <p>Contraseña validada</p>
          </div>
          <!-- Campo de entrada repetir contraseña -->
          <div>
            <label for="password">Repita contraseña</label>
          </div>
          <div class="mb-3 form-group">
            <input
              type="password"
              class="form-control"
              name="repassword"
              [ngModel]="userSignup.repassword"
              (ngModelChange)="checkSamePass($event)"
              required
            />
          </div>
          <button type="submit" class="btn btn-dark">Registrarse</button>
        </form>
      </div>
    </div>
  </div>
</main>
